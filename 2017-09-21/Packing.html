<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="utf-8">
		<title>Bin Packing</title>
		<link rel="stylesheet" href="../style.css">
	</head>
	<main>
		<a href="https://halfwit.github.io">back</a>
		<h1>Bin Packing</h1>
		<nav>
			<ul>
				<li><a href="#It Has Been One Year Since My Last WM Issue">It Has Been One Year Since My Last WM Issue</a></li>
				<li><a href="#Tags Are Pretty Nice">Tags Are Pretty Nice</a></li>
				<li><a href="#Cool, Tags Sound Neat. How Get?">Cool, Tags Sound Neat. How Get?</a></li>
			</ul>
		<nav>
				<section>
			<header>
				<h2><a name=""></a></h2>
			</header>
		</section>

		<section>
			<header>
				<h2><a name="It Has Been One Year Since My Last WM Issue">It Has Been One Year Since My Last WM Issue</a></h2>
			</header>
			<p>So for quite some time, I was going through window managers quite frequently. I'd trial one, enjoy many points of it, and eventually find another that suited for a different reason. I really liked <a href="https://dwm.suckless.org/">dwm</a> for a few reasons. It had a wonderfully responsive stacking layout, and the tagging feature. I also really liked <a href="https://i3wm.org/">i3</a> for the menu system, and per-window hooks. (these may not be unique, nor originated by these wm's; but this is where I encountered them first)</p>
			<p>Along came the <a href="https://github.com/wmutils">wmutils</a> project, which is basically a set of binaries for interacting with windows and the X server from the command line. It is similar in design to xdotool - but not monolithic - which I had come to appreciate in userland tools for ease with which I could learn them. Simple manpages, fewer flags, just easy to learn in one sitting.</p>
			<p>That was the last straw, I'd just make my own wm. With blackjack.</p>
		</section>

		<section>
			<header>
				<h2><a name="Tags Are Pretty Nice">Tags Are Pretty Nice</a></h2>
			</header>
			<p>Tags, or groups as some call them are a feature that has been around for a while. The essence of tags is pretty simple. When you have a window, you assign it to a particular group, or tag. If that window is in a tag with other windows, you can bring them into view or out all at once. That's not at all different from a workspace though, and what sets tags apart is that you can have more than one tag in the view at a time. This is hard to show in a video without voiceover, which I currently don't have access to; but I'll attempt it:</p>
			<p><a href="https://ptpb.pw/HSVe.mkv">demo</a> The big win is, when you're coding, you can pull up your email client alongside your editor, write your email, and hide your email client fluidly. Try it! It's great.</p>
		</section>

		<section>
			<header>
				<h2><a name="Cool, Tags Sound Neat. How Get?">Cool, Tags Sound Neat. How Get?</a></h2>
			</header>
			<p>I had decided to go with wmutils, but they had a cludgy, file-backed grouping mechanism. It worked mostly ok, but I was never very satisfied. There was lots of state wonkiness, and I'd end up with false information about which tags were active, which windows were in which tag, etc.</p>
			<p>I was mulling over many ideas, from using a long running process to track variables, to using the same file-backed grouping as the others. Around the same time, I was working on <a href="https://github.com/sdhand/x11fs">x11fs</a> to attempt to implement a clipboard - and was working with the X11 ATOM system. Putting two, and two, and two together, I was able to realize that I could store the tag data as a user atom.</p>
			<p>Thus were born the following:</p>
			<p>- <a href="https://github.com/halfwit/wmgroup">wmgroup</a></p>
			<p>- <a href="https://github.com/halfwit/watom">watom</a></p>
			<p>These were knocked off actually fairly fast, about a day for each, and worked as follows:</p>
<code><pre>
# grp will set an arbitrarily named group to the window designated by wid
grp <name> <wid>

# lsgrp will list all wid's currently in the named group
lsgrp <name>
</pre></code>
			<p>Leveraging <a href="https://github.com/baskerville/sxhkd">sxhkd</a> to intercept keystrokes, I can set groups for windows, and list all windows in a group.</p>
<code><pre>
# List all windows in a group, and use wmutils to toggle their visible state
lsgrp 1 | xargs mapw -t
</pre></code>
			<p>And that was really enough to do a full tagging system.</p>
		</section>
	</main>
	<footer>
		<section>
			<p>Â© 2017 Michael Misch</p>
			<p>Questions? Comments? Email me. <a href="mailto:michaelmisch1985@gmail.com">michaelmisch1985@gmail.com</a></p>
		</section>
	</footer>
</html>
